buildscript { apply from: file('gradle/buildscript.gradle'), to: buildscript }

apply from: "$rootDir/gradle/dependencies.gradle"
apply from: "$rootDir/gradle/wrapper.gradle"
apply from: "$rootDir/gradle/compile.gradle"
apply from: "$rootDir/gradle/artifacts.gradle"
apply from: "$rootDir/gradle/quality.gradle"

apply plugin: "idea"
apply plugin: "eclipse"

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile([
        libs.curatorRecipes,
        libs.scala,
        libs.slf4jApi,
    ])

    runtime ([
        libs.scalaCompiler, // For the scalaConsole task
    ])

    testCompile([
        libs.curatorTest,
        libs.jUnit,
        libs.logbackClassic,
        libs.scalaTest,
    ])

    scoverage([
        libs.scoveragePlugin,
        libs.scoverageRuntime,
    ])
}

configurations {
    all*.exclude group: 'log4j', module: 'log4j'
}

test {
    maxParallelForks = Runtime.runtime.availableProcessors()
    testLogging {
        events "passed", "skipped", "failed"
        exceptionFormat = 'full'
    }
}
